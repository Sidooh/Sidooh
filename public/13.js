(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{80:function(t,e,n){"use strict";n.r(e);var r=n(5),a=n(0);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={name:"Index",components:{CChartLine:r.CChartLine},data:function(){return{fields:[{key:"id"},{key:"type"},{key:"description"},{key:"amount"},{key:"status"},{key:"created_at"}]}},created:function(){this.fetchTransactions()},destroyed:function(){},computed:o(o({},Object(a.c)("TransactionsIndex",{data:"data"})),{},{totalAmount:function(){return _.sum(this.data.map((function(t){return t.amount})))},totalAmountToday:function(){var t=this;return _.sum(this.data.filter((function(e){return t.isToday(new Date(e.created_at))})).map((function(t){return t.amount})))},totalAmountThisMonth:function(){var t=this;return _.sum(this.data.filter((function(e){return t.isThisMonth(new Date(e.created_at))})).map((function(t){return t.amount})))},totalTransactions:function(){return this.data.length},totalTransactionsToday:function(){var t=this;return this.data.filter((function(e){return t.isToday(new Date(e.created_at))})).length},totalTransactionsThisMonth:function(){var t=this;return this.data.filter((function(e){return t.isThisMonth(new Date(e.created_at))})).length},transactions:function(){return this.data.sort((function(t,e){return e.id-t.id}))}}),methods:o(o({},Object(a.b)("TransactionsIndex",{fetchTransactions:"fetchData",processTransactionChartData:"processChartData",setQuery:"setQuery",resetState:"resetState"})),{},{isToday:function(t){var e=new Date;return t.getDate()==e.getDate()&&t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()},isThisMonth:function(t){var e=new Date;return t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()},rowClicked:function(t,e,n){this.$emit("row-clicked",t,e,n)},getBadge:function(t){return"success"===t?"success":"pending"===t?"secondary":"reimbursed"===t?"warning":"failed"===t?"danger":"primary"}})},u=n(2),d=Object(u.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CCard",[n("CCardHeader",[t._t("header",[n("CIcon",{attrs:{name:"cil-grid"}}),t._v("\n                My Transactions\n            ")])],2),t._v(" "),n("CCardBody",[n("CDataTable",{attrs:{fields:t.fields,items:t.transactions,"items-per-page":15,pagination:{doubleArrows:!1,align:"center"},"clickable-rows":"",hover:"","items-per-page-select":"",sorter:"",striped:"","table-filter":""},on:{"row-clicked":t.rowClicked},scopedSlots:t._u([{key:"status",fn:function(e){return[n("td",[n("CBadge",{attrs:{color:t.getBadge(e.item.status)}},[t._v("\n                            "+t._s(e.item.status)+"\n                        ")])],1)]}}])})],1)],1)],1)}),[],!1,null,"298c0b45",null);e.default=d.exports}}]);